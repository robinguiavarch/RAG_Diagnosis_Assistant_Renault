
============================================================
 ğŸ”€ TEST DU SYSTÃˆME DE FUSION ğŸ”€
============================================================

============================================================
 TEST DE NORMALISATION DES SCORES
============================================================
ğŸ“Š Test normalisation avec donnÃ©es variÃ©es
RÃ©sultats avant/aprÃ¨s normalisation:
   A: 1.50 â†’ 0.2917
   B: 3.20 â†’ 1.0000
   C: 0.80 â†’ 0.0000
   D: 2.10 â†’ 0.5417
âœ… Min normalisÃ©: 0.0000 (doit Ãªtre 0.0)
âœ… Max normalisÃ©: 1.0000 (doit Ãªtre 1.0)

ğŸ“Š Test normalisation avec scores identiques
   X: 2.50 â†’ 1.0000
   Y: 2.50 â†’ 1.0000
   Z: 2.50 â†’ 1.0000

ğŸ“Š Test normalisation avec liste vide
âœ… Liste vide: 0 rÃ©sultats

============================================================
 TEST DE LOGIQUE DE FUSION
============================================================
ğŸ“ RÃ©sultats BM25:
   1. doc1|1: score=2.50
   2. doc1|2: score=1.80
   3. doc2|3: score=3.10
   4. doc2|4: score=1.20

ğŸ§  RÃ©sultats FAISS:
   1. doc1|1: score=0.85
   2. doc2|3: score=0.92
   3. doc3|5: score=0.78
   4. doc3|6: score=0.65

ğŸ”€ RÃ©sultats fusionnÃ©s (top-6):
   1. doc2|3: fusionnÃ©=1.0000 (BM25=1.0000, FAISS=1.0000)
   2. doc1|1: fusionnÃ©=0.7125 (BM25=0.6842, FAISS=0.7407)
   3. doc3|5: fusionnÃ©=0.2407 (BM25=0.0000, FAISS=0.4815)
   4. doc1|2: fusionnÃ©=0.1579 (BM25=0.3158, FAISS=0.0000)
   5. doc2|4: fusionnÃ©=0.0000 (BM25=0.0000, FAISS=0.0000)
   6. doc3|6: fusionnÃ©=0.0000 (BM25=0.0000, FAISS=0.0000)

ğŸ“Š ANALYSE:
   ğŸ“ Chunks BM25 uniques: 4
   ğŸ§  Chunks FAISS uniques: 4
   ğŸ”€ Chunks fusionnÃ©s: 6
   ğŸ¤ Chunks en commun: 2

============================================================
 TEST DES CAS LIMITES
============================================================
ğŸ“Š Test fusion avec listes vides
   Listes vides: 0 rÃ©sultats
   BM25 seul: 1 rÃ©sultats
      Score fusionnÃ©: 0.5000
      (BM25: 1.0000, FAISS: 0.0000)
   Top-K > disponible: demandÃ© 10, reÃ§u 2

============================================================
 TEST AVEC VRAIS RETRIEVERS
============================================================
ğŸ”„ Initialisation BM25Retriever...
âœ… BM25Retriever initialisÃ©
ğŸ”„ Initialisation FAISSRetriever...
âœ… FAISSRetriever initialisÃ©

ğŸ” RequÃªte: "I got the error ACAL-006 TPE operation error on the FANUC teach pendant. What should I do?"
ğŸ“Š Top-K: 5

ğŸ“ Recherche BM25...
   TrouvÃ©: 0 rÃ©sultats
ğŸ§  Recherche FAISS...
   TrouvÃ©: 5 rÃ©sultats

ğŸ”€ Fusion des rÃ©sultats...
   RÃ©sultats fusionnÃ©s: 5

------------------------------------------------------------
 COMPARAISON DES RÃ‰SULTATS
------------------------------------------------------------

ğŸ“ TOP-3 BM25:

ğŸ§  TOP-3 FAISS:
   1. Score: 0.6341 | doc-R-30iB|157
      If any of the software version are not matched, a complete re-load with the correct software will be...
   2. Score: 0.6104 | doc-R-30iB|33
      Remedy: Use only one group in the program, and make sure group is available. ACAL-035 Press Shift Ke...
   3. Score: 0.6069 | doc-R-30iB|1451
      Typically, this is a force link call from a $PWR_NORMAL program. TPIF-172 Only available from pendan...

ğŸ”€ TOP-5 FUSIONNÃ‰S:

ğŸ”€ RÃ‰SULTAT FUSIONNÃ‰ #1
ğŸ†” Document: doc-R-30iB
ğŸ§© Chunk: 157
ğŸ¯ Score fusionnÃ©: 0.5000
ğŸ“ Score BM25: 0.0000
ğŸ§  Score FAISS: 1.0000
ğŸ“– TEXTE: If any of the software version are not matched, a complete re-load with the correct software will be necessary. Confirm that no incompatible or mutual...
--------------------------------------------------

ğŸ”€ RÃ‰SULTAT FUSIONNÃ‰ #2
ğŸ†” Document: doc-R-30iB
ğŸ§© Chunk: 33
ğŸ¯ Score fusionnÃ©: 0.2627
ğŸ“ Score BM25: 0.0000
ğŸ§  Score FAISS: 0.5255
ğŸ“– TEXTE: Remedy: Use only one group in the program, and make sure group is available. ACAL-035 Press Shift Key. Cause: The SHIFT key was not pressed. Remedy: P...
--------------------------------------------------

ğŸ”€ RÃ‰SULTAT FUSIONNÃ‰ #3
ğŸ†” Document: doc-R-30iB
ğŸ§© Chunk: 1451
ğŸ¯ Score fusionnÃ©: 0.2275
ğŸ“ Score BM25: 0.0000
ğŸ§  Score FAISS: 0.4550
ğŸ“– TEXTE: Typically, this is a force link call from a $PWR_NORMAL program. TPIF-172 Only available from pendant Cause: The operation you selected is only availa...
--------------------------------------------------

ğŸ”€ RÃ‰SULTAT FUSIONNÃ‰ #4
ğŸ†” Document: doc-R-30iB
ğŸ§© Chunk: 536
ğŸ¯ Score fusionnÃ©: 0.0274
ğŸ“ Score BM25: 0.0000
ğŸ§  Score FAISS: 0.0548
ğŸ“– TEXTE: Remedy: (1) Set the currect port. (2) Check the device if it works fine. LANG-005 Program type is different Cause: Only able to process teach pendant ...
--------------------------------------------------

ğŸ”€ RÃ‰SULTAT FUSIONNÃ‰ #5
ğŸ†” Document: doc-R-30iB
ğŸ§© Chunk: 432
ğŸ¯ Score fusionnÃ©: 0.0000
ğŸ“ Score BM25: 0.0000
ğŸ§  Score FAISS: 0.0000
ğŸ“– TEXTE: On the teach pendant, press and hold the SHIFT and RESET keys. While still pressing the SHIFT and RESET keys, turn on the robot. If 3â€“584 MARRBERCD 04...
--------------------------------------------------

------------------------------------------------------------
 ANALYSE DE LA FUSION
------------------------------------------------------------
ğŸ“Š STATISTIQUES:
   ğŸ¤ Chunks communs: 0
   ğŸ“ Chunks BM25 uniquement: 0
   ğŸ§  Chunks FAISS uniquement: 5
   ğŸ”€ Chunks dans rÃ©sultat final: 5

ğŸ“ˆ SCORES:
   ğŸ¯ Score fusionnÃ© moyen: 0.2035
   ğŸ“ Contribution BM25 moyenne: 0.0000
   ğŸ§  Contribution FAISS moyenne: 0.4071

============================================================
 âœ… TESTS DE FUSION TERMINÃ‰S AVEC SUCCÃˆS
============================================================
ğŸ‰ Le systÃ¨me de fusion fonctionne correctement!
ğŸ”€ La fusion combine intelligemment BM25 et FAISS!
